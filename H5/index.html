<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>HTML方向 | 前端开发手册</title>
    <meta name="generator" content="VuePress 1.5.2">
    
    <meta name="description" content="前端开发手册，打造完善的知识体系">
    <link rel="preload" href="/assets/css/0.styles.34d67128.css" as="style"><link rel="preload" href="/assets/js/app.d376acce.js" as="script"><link rel="preload" href="/assets/js/2.7c6cafdd.js" as="script"><link rel="preload" href="/assets/js/10.b48bc1b7.js" as="script"><link rel="prefetch" href="/assets/js/11.8257215f.js"><link rel="prefetch" href="/assets/js/12.3e57a1f5.js"><link rel="prefetch" href="/assets/js/13.9f003a4e.js"><link rel="prefetch" href="/assets/js/14.b93d6962.js"><link rel="prefetch" href="/assets/js/15.b95c4e9e.js"><link rel="prefetch" href="/assets/js/16.de24950c.js"><link rel="prefetch" href="/assets/js/17.1e81d9de.js"><link rel="prefetch" href="/assets/js/18.bd47c555.js"><link rel="prefetch" href="/assets/js/19.ef64600f.js"><link rel="prefetch" href="/assets/js/20.e09a1e9c.js"><link rel="prefetch" href="/assets/js/3.93bd9308.js"><link rel="prefetch" href="/assets/js/4.3dc1f4c8.js"><link rel="prefetch" href="/assets/js/5.6a0eab6e.js"><link rel="prefetch" href="/assets/js/6.69414ed6.js"><link rel="prefetch" href="/assets/js/7.d7ae11ea.js"><link rel="prefetch" href="/assets/js/8.1754cb45.js"><link rel="prefetch" href="/assets/js/9.a0e27dca.js">
    <link rel="stylesheet" href="/assets/css/0.styles.34d67128.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">前端开发手册</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="H5坑位指南" class="dropdown-title"><span class="title">H5坑位指南</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/H5/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  H5坑位指南
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Css" class="dropdown-title"><span class="title">Css</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Css/" class="nav-link">
  css文字
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="代码块" class="dropdown-title"><span class="title">代码块</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Utils/" class="nav-link">
  插件系列
</a></li><li class="dropdown-item"><!----> <a href="/Utils/image.html" class="nav-link">
  图片系列
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目搭建" class="dropdown-title"><span class="title">项目搭建</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/React/" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/Vue/" class="nav-link">
  Vue
</a></li></ul></div></div><div class="nav-item"><a href="/Three.js/" class="nav-link">
  Three.js
</a></div> <a href="https://github.com/gaohongwei11" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="H5坑位指南" class="dropdown-title"><span class="title">H5坑位指南</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/H5/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  H5坑位指南
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Css" class="dropdown-title"><span class="title">Css</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Css/" class="nav-link">
  css文字
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="代码块" class="dropdown-title"><span class="title">代码块</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Utils/" class="nav-link">
  插件系列
</a></li><li class="dropdown-item"><!----> <a href="/Utils/image.html" class="nav-link">
  图片系列
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目搭建" class="dropdown-title"><span class="title">项目搭建</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/React/" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/Vue/" class="nav-link">
  Vue
</a></li></ul></div></div><div class="nav-item"><a href="/Three.js/" class="nav-link">
  Three.js
</a></div> <a href="https://github.com/gaohongwei11" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>HTML方向</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/H5/#调用系统功能" class="sidebar-link">调用系统功能</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/H5/#忽略自动识别" class="sidebar-link">忽略自动识别</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/H5/#弹出数字键盘" class="sidebar-link">弹出数字键盘</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/H5/#唤醒原生应用" class="sidebar-link">唤醒原生应用</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/H5/#禁止页面缩放" class="sidebar-link">禁止页面缩放</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/H5/#禁止页面缓存" class="sidebar-link">禁止页面缓存</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/H5/#禁止字母大写" class="sidebar-link">禁止字母大写</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/H5/#针对safari配置" class="sidebar-link">针对Safari配置</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/H5/#针对其他浏览器配置" class="sidebar-link">针对其他浏览器配置</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/H5/#让-active有效，让-hover无效" class="sidebar-link">让:active有效，让:hover无效</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/H5/#自动适应布局" class="sidebar-link">自动适应布局</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/H5/#自动适应背景" class="sidebar-link">自动适应背景</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/H5/#监听屏幕旋转" class="sidebar-link">监听屏幕旋转</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/H5/#支持弹性滚动" class="sidebar-link">支持弹性滚动</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/H5/#禁止滚动传播" class="sidebar-link">禁止滚动传播</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/H5/#禁止屏幕抖动" class="sidebar-link">禁止屏幕抖动</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/H5/#禁止长按操作" class="sidebar-link">禁止长按操作</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/H5/#禁止字体调整" class="sidebar-link">禁止字体调整</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/H5/#禁止高亮显示" class="sidebar-link">禁止高亮显示</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/H5/#禁止动画闪屏" class="sidebar-link">禁止动画闪屏</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/H5/#美化表单外观" class="sidebar-link">美化表单外观</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/H5/#美化滚动占位" class="sidebar-link">美化滚动占位</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/H5/#美化输入占位" class="sidebar-link">美化输入占位</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/H5/#对齐输入占位" class="sidebar-link">对齐输入占位</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/H5/#对齐下拉选项" class="sidebar-link">对齐下拉选项</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/H5/#修复点击无效" class="sidebar-link">修复点击无效</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/H5/#识别文本换行" class="sidebar-link">识别文本换行</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/H5/#开启硬件加速" class="sidebar-link">开启硬件加速</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/H5/#描绘像素边框" class="sidebar-link">描绘像素边框</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/H5/#控制溢出文本" class="sidebar-link">控制溢出文本</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/H5/#禁止点击穿透" class="sidebar-link">禁止点击穿透</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/H5/#禁止滑动穿透" class="sidebar-link">禁止滑动穿透</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/H5/#支持往返刷新" class="sidebar-link">支持往返刷新</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/H5/#解析有效日期" class="sidebar-link">解析有效日期</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/H5/#修复高度坍塌" class="sidebar-link">修复高度坍塌</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/H5/#修复输入监听" class="sidebar-link">修复输入监听</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/H5/#简化回到顶部" class="sidebar-link">简化回到顶部</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/H5/#简化懒性加载" class="sidebar-link">简化懒性加载</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/H5/#优化扫码识别" class="sidebar-link">优化扫码识别</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/H5/#自动播放媒体" class="sidebar-link">自动播放媒体</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="html方向"><a href="#html方向" class="header-anchor">#</a> HTML方向</h1> <h2 id="调用系统功能"><a href="#调用系统功能" class="header-anchor">#</a> 调用系统功能</h2> <p>使用<a>能快速调用移动设备的电话/短信/邮件三大通讯功能，使用<input>能快速调用移动设备的的图库/文件。</a></p> <p>这些功能方便了页面与系统的交互，关键在于调用格式一定要准确，否则会被移动端浏览器忽略。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- 拨打电话 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>tel:10086<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>拨打电话给10086小姐姐<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 发送短信 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>sms:10086<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>发送短信给10086小姐姐<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 发送邮件 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>mailto:young.joway@aliyun.com<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>发送邮件给JowayYoung<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 选择照片或拍摄照片 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>file<span class="token punctuation">&quot;</span></span> <span class="token attr-name">accept</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>image/*<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 选择视频或拍摄视频 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>file<span class="token punctuation">&quot;</span></span> <span class="token attr-name">accept</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>video/*<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 多选文件 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>file<span class="token punctuation">&quot;</span></span> <span class="token attr-name">multiple</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="忽略自动识别"><a href="#忽略自动识别" class="header-anchor">#</a> 忽略自动识别</h2> <p>有些移动端浏览器会自动将数字字母符号识别为电话/邮箱并将其渲染成上述「调用系统功能」里的<a>。虽然很方便却有可能违背需求。</a></p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- 忽略自动识别电话 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>format-detection<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>telephone=no<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 忽略自动识别邮箱 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>format-detection<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>email=no<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 忽略自动识别电话和邮箱 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>format-detection<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>telephone=no, email=no<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="弹出数字键盘"><a href="#弹出数字键盘" class="header-anchor">#</a> 弹出数字键盘</h2> <p>使用<input type="tel">弹起数字键盘会带上#和*，适合输入电话。推荐使用<input type="number" pattern="\d*">弹起数字键盘，适合输入验证码等纯数字格式。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- 纯数字带#和* --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>tel<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 纯数字 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>number<span class="token punctuation">&quot;</span></span> <span class="token attr-name">pattern</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>\d*<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="唤醒原生应用"><a href="#唤醒原生应用" class="header-anchor">#</a> 唤醒原生应用</h2> <p>通过location.href与原生应用建立通讯渠道，这种页面与客户端的通讯方式称为「URL Scheme」，其基本格式为scheme://[path][?query]，笔者曾经发表过《H5与App的通讯方式》讲述URL Scheme的使用。</p> <ul><li>「scheme」：应用标识，表示应用在系统里的唯一标识</li> <li>「path」：应用行为，表示应用某个页面或功能</li> <li>「query」：应用参数，表示应用页面或应用功能所需的条件参数</li></ul> <p>URL Scheme一般由前端与客户端共同协商。唤醒原生应用的前提是必须在移动设备里安装了该应用，有些移动端浏览器即使安装了该应用也无法唤醒原生应用，因为它认为URL Scheme是一种潜在的危险行为而禁用它，像Safari和微信浏览器。还好微信浏览器可开启白名单让URL Scheme有效。</p> <p>若在页面引用第三方原生应用的URL Schema，可通过抓包第三方原生应用获取其URL。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- 打开微信 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>weixin://<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>打开微信<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 打开支付宝 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>alipays://<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>打开支付宝<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 打开支付宝的扫一扫 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>alipays://platformapi/startapp?saId=10000007<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>打开支付宝的扫一扫<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 打开支付宝的蚂蚁森林 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>alipays://platformapi/startapp?appId=60000002<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>打开支付宝的蚂蚁森林<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="禁止页面缩放"><a href="#禁止页面缩放" class="header-anchor">#</a> 禁止页面缩放</h2> <p>在智能手机的普及下，很多网站都具备桌面端和移动端两种浏览版本，因此无需双击缩放查看页面。禁止页面缩放可保障移动端浏览器能无遗漏地展现页面所有布局。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>width=device-width, user-scalable=no, initial-scale=1, minimum-scale=1, maximum-scale=1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="禁止页面缓存"><a href="#禁止页面缓存" class="header-anchor">#</a> 禁止页面缓存</h2> <p>「Cache-Control」指定请求和响应遵循的缓存机制，不想使用浏览器缓存就禁止呗！</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Cache-Control<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>no-cache<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="禁止字母大写"><a href="#禁止字母大写" class="header-anchor">#</a> 禁止字母大写</h2> <p>有时在输入框里输入文本会默认开启首字母大写纠正，就是输入首字母小写会被自动纠正成大写，特么的烦。直接声明autocapitalize=off关闭首字母大写功能和autocorrect=off关闭纠正功能。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">autocapitalize</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>off<span class="token punctuation">&quot;</span></span> <span class="token attr-name">autocorrect</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>off<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="针对safari配置"><a href="#针对safari配置" class="header-anchor">#</a> 针对Safari配置</h2> <p>贴一些Safari较零散且少用的配置。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- 设置Safari全屏，在iOS7+无效 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>apple-mobile-web-app-capable<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>yes<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 改变Safari状态栏样式，可选default/black/black-translucent，需在上述全屏模式下才有效 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>apple-mobile-web-app-status-bar-style<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>black<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 添加页面启动占位图 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>apple-touch-startup-image<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>pig.jpg<span class="token punctuation">&quot;</span></span> <span class="token attr-name">media</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>(device-width: 375px)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 保存网站到桌面时添加图标 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>apple-touch-icon<span class="token punctuation">&quot;</span></span> <span class="token attr-name">sizes</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>76x76<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>pig.jpg<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 保存网站到桌面时添加图标且清除默认光泽 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>apple-touch-icon-precomposed<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>pig.jpg<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="针对其他浏览器配置"><a href="#针对其他浏览器配置" class="header-anchor">#</a> 针对其他浏览器配置</h2> <p>贴一些其他浏览器较零散且少用的配置，主要是常用的QQ浏览器、UC浏览器和360浏览器。从网易MTL的测试数据得知，新版的QQ浏览器和UC浏览器已不支持以下</p><meta>声明了。<p></p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- 强制QQ浏览器竖屏 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>x5-orientation<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>portrait<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 强制QQ浏览器全屏 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>x5-fullscreen<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 开启QQ浏览器应用模式 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>x5-page-mode<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 强制UC浏览器竖屏 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>screen-orientation<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>portrait<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 强制UC浏览器全屏 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>full-screen<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>yes<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 开启UC浏览器应用模式 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>browsermode<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>application<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 开启360浏览器极速模式 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>renderer<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>webkit<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="让-active有效，让-hover无效"><a href="#让-active有效，让-hover无效" class="header-anchor">#</a> 让:active有效，让:hover无效</h2> <p>有些元素的:active可能会无效，而元素的:hover在点击后会一直处于点击状态，需点击其他位置才能解除点击状态。给</p><body>注册一个空的touchstart事件可将两种状态反转。<p></p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span> <span class="token attr-name">ontouchstart</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h1 id="css方向"><a href="#css方向" class="header-anchor">#</a> CSS方向</h1> <h2 id="自动适应布局"><a href="#自动适应布局" class="header-anchor">#</a> 自动适应布局</h2> <p>针对移动端，笔者通常会结合JS依据屏幕宽度与设计图宽度的比例动态声明</p><html>的font-size，以rem为长度单位声明所有节点的几何属性，这样就能做到大部分移动设备的页面兼容，兼容出入较大的地方再通过媒体查询做特别处理。<p></p> <p>笔者通常将rem布局比例设置成1rem=100px，即在设计图上100px长度在CSS代码上使用1rem表示。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">AutoResponse</span><span class="token punctuation">(</span><span class="token parameter">width <span class="token operator">=</span> <span class="token number">750</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> target <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>target<span class="token punctuation">.</span>clientWidth <span class="token operator">&gt;=</span> <span class="token number">600</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        target<span class="token punctuation">.</span>style<span class="token punctuation">.</span>fontSize <span class="token operator">=</span> <span class="token string">&quot;80px&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        target<span class="token punctuation">.</span>style<span class="token punctuation">.</span>fontSize <span class="token operator">=</span> target<span class="token punctuation">.</span>clientWidth <span class="token operator">/</span> width <span class="token operator">*</span> <span class="token number">100</span> <span class="token operator">+</span> <span class="token string">&quot;px&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">AutoResponse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;resize&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">AutoResponse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>当然还可依据屏幕宽度与设计图宽度的比例使用calc()动态声明</p><html>的font-size，这样就能节省上述代码。不对，是完全代替上述代码。<p></p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">html</span> <span class="token punctuation">{</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>100vw / 7.5<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>若以iPad Pro分辨率1024px为移动端和桌面端的断点，还可结合媒体查询做断点处理。1024px以下使用rem布局，否则不使用rem布局。</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token atrule"><span class="token rule">@media</span> screen and <span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span> 1024px<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
    <span class="token selector">html</span> <span class="token punctuation">{</span>
        <span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>100vw / 7.5<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="自动适应背景"><a href="#自动适应背景" class="header-anchor">#</a> 自动适应背景</h2> <p>使用rem布局声明一个元素背景，多数情况会将background-size声明为cover。可能在设计图对应分辨率的移动设备下，背景会完美贴合显示，但换到其他分辨率的移动设备下就会出现左右空出1px到npx的空隙。</p> <p>此时将background-size声明为100% 100%，跟随width和height的变化而变化。反正width和height都是量好的实际尺寸。</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">.elem</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 1rem<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 1rem<span class="token punctuation">;</span>
    <span class="token property">background</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>&quot;pig.jpg&quot;<span class="token punctuation">)</span></span> no-repeat center/100% 100%<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="监听屏幕旋转"><a href="#监听屏幕旋转" class="header-anchor">#</a> 监听屏幕旋转</h2> <p>你还在使用JS判断横屏竖屏调整样式吗？那就真的Out了。</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token comment">/* 竖屏 */</span>
<span class="token atrule"><span class="token rule">@media</span> all and <span class="token punctuation">(</span><span class="token property">orientation</span><span class="token punctuation">:</span> portrait<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
    <span class="token comment">/* 自定义样式 */</span>
<span class="token punctuation">}</span>

<span class="token comment">/* 横屏 */</span>
<span class="token atrule"><span class="token rule">@media</span> all and <span class="token punctuation">(</span><span class="token property">orientation</span><span class="token punctuation">:</span> landscape<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
    <span class="token comment">/* 自定义样式 */</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="支持弹性滚动"><a href="#支持弹性滚动" class="header-anchor">#</a> 支持弹性滚动</h2> <p>在苹果系统上非</p><body>元素的滚动操作可能会存在卡顿，但安卓系统不会出现该情况。通过声明overflow-scrolling:touch调用系统原生滚动事件优化弹性滚动，增加页面滚动的流畅度。<p></p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">body</span> <span class="token punctuation">{</span>
    <span class="token property">-webkit-overflow-scrolling</span><span class="token punctuation">:</span> touch<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.elem</span> <span class="token punctuation">{</span>
    <span class="token property">overflow</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="禁止滚动传播"><a href="#禁止滚动传播" class="header-anchor">#</a> 禁止滚动传播</h2> <p>与桌面端浏览器不一样，移动端浏览器有一个奇怪行为。当页面包含多个滚动区域时，滚完一个区域后若还存在滚动动量则会将这些剩余动量传播到下一个滚动区域，造成该区域也滚动起来。这种行为称为「滚动传播」。</p> <p>若不想产生这种奇怪行为可直接禁止。</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">.elem</span> <span class="token punctuation">{</span>
    <span class="token property">overscroll-behavior</span><span class="token punctuation">:</span> contain<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="禁止屏幕抖动"><a href="#禁止屏幕抖动" class="header-anchor">#</a> 禁止屏幕抖动</h2> <p>对于一些突然出现滚动条的页面，可能会产生左右抖动的不良影响。在一个滚动容器里，打开弹窗就隐藏滚动条，关闭弹窗就显示滚动条，来回操作会让屏幕抖动起来。提前声明滚动容器的padding-right为滚动条宽度，就能有效消除这个不良影响。</p> <p>每个移动端浏览器的滚动条宽度都有可能不一致，甚至不一定占位置，通过以下方式能间接计算出滚动条的宽度。100vw为视窗宽度，100%为滚动容器内容宽度，相减就是滚动条宽度，妥妥的动态计算。</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">body</span> <span class="token punctuation">{</span>
    <span class="token property">padding-right</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>100vw - 100%<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="禁止长按操作"><a href="#禁止长按操作" class="header-anchor">#</a> 禁止长按操作</h2> <p>有时不想用户长按元素呼出菜单进行点链接、打电话、发邮件、保存图片或扫描二维码等操作，声明touch-callout:none禁止用户长按操作。</p> <p>有时不想用户复制粘贴盗文案，声明user-select:none禁止用户长按操作和选择复制。</p> <div class="language-css extra-class"><pre class="language-css"><code>
<span class="token selector">*</span> <span class="token punctuation">{</span>

    <span class="token comment">/* pointer-events: none; */</span>
    <span class="token comment">/* 微信浏览器还需附加该属性才有效 */</span>
    <span class="token property">user-select</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
    <span class="token comment">/* 禁止长按选择文字 */</span>
    <span class="token property">-webkit-touch-callout</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>但声明user-select:none会让<input>和<textarea></textarea></p></body></html></html></body></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.d376acce.js" defer></script><script src="/assets/js/2.7c6cafdd.js" defer></script><script src="/assets/js/10.b48bc1b7.js" defer></script>
  </body>
</html>
